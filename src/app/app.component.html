<div class="container">
    <form
        #userForm="ngForm"
        (ngSubmit)="onSubmit(userForm, $event)"
    >
        <div
            class="input-group"
            style="margin-bottom: 10px"
        >
            <label for="email">Email</label>
            <input
                type="email"
                [(ngModel)]="user.email"
                name="email"
                id="email"
                placeholder="email"
                #email="ngModel"
            >
            @if(email.touched && email.hasError('required')){
              <small class="error">Email is required</small>
            }
            @if(email.touched && email.hasError('notAvailable')){
              <small class="error">Email not avaliable</small>
            }

        </div>
        <div
            class="input-group"
            style="margin-bottom: 10px"
        >
            <label for="age">Age</label>
            <input
                type="date"
                [(ngModel)]="user.age"
                name="age"
                id="age"
                placeholder="age"
            >
        </div>
        <fieldset>
          <legend>Address</legend>
          <ng-container ngModelGroup="address" #address="ngModelGroup">
            <div class="input-group" style="margin-bottom: 10px">
                <label for="city">City</label>
                <input
                    type="text"
                    [(ngModel)]="user.address.city"
                    name="city"
                    id="city"
                    placeholder="City"
                    required
                >
            </div>
            <div class="input-group" style="margin-bottom: 10px">
                <label for="state">State</label>
                <input
                    type="text"
                    [(ngModel)]="user.address.state"
                    name="state"
                    id="state"
                    placeholder="State"
                >
            </div>
          </ng-container>
        </fieldset>
        <button
            type="submit"
            [disabled]="userForm.invalid"
        >
            Submit
        </button>
    </form>
</div>
